<Project Sdk="Microsoft.NET.Sdk">

    <PropertyGroup>
        <TargetFramework>netstandard2.0</TargetFramework>
    </PropertyGroup>
	
	<ItemGroup>
		<Compile Include="..\Assets\Scripts\ServerShared\**\*.cs" />
	</ItemGroup>
	
	<ItemGroup>
		<PackageReference Include="MagicOnion.Abstractions" Version="3.0.0" />
		<PackageReference Include="MagicOnion.MSBuild.Tasks" Version="3.0.0" PrivateAssets="All" />
		<PackageReference Include="MessagePack.MSBuild.Tasks" Version="2.0.323" PrivateAssets="All" />
	</ItemGroup>

	<Target Name="GenerateMessagePack" AfterTargets="Compile">
		<MessagePackGenerator Input=".\Economy.Shared.csproj" Output="..\Assets\Scripts\Generated\MessagePack.Generated.cs" />
	</Target>
	
	<Target Name="GenerateMagicOnion" AfterTargets="Compile">
		<MagicOnionGenerator Input=".\Economy.Shared.csproj" Output="..\Assets\Scripts\Generated\MagicOnion.Generated.cs" />
	</Target>

</Project>
